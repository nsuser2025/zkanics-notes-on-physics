<p>
makefileのBINDIR=$(HOME)/ATAT/3.50/bin
にしてmake & make install
事前に$(HOME)/ATAT/3.50/binのディレクトリを作っておく。
</p>

<p>
ATATのMIT Ab-initio Phase Stability (MAPS): クラスター選択のアルゴリズム
空間的にコンパクトなクラスターが優先的に選ばれる。
ある多体クラスターをクラスター展開に用いる場合は、その低次のクラスター（サブクラスター）
が全て含まれていることが条件。
MAPS以外にも遺伝的アルゴリズムを用いる手法などがある。
Ref. Zarkevich2004_Phys.Rev.Lett.vol92.255702
</p>

<p>
SQS（special quasirandom structure）とは、無秩序合金の構造を生成するための数学的モデルである。
SQSはランダムに生成された合金と類似した特定の統計的性質を示す一方で、何らかの規則性やパターンを内包している。
SQSを用いることで、比較的少数の原子数（例えば 5 元系ではおよそ 100 原子）からなる単一の配置によって、
無秩序状態の挙動を模擬することができる。
真にランダムな構造を用いる場合に比べて計算コストを大幅に抑えつつ、実在合金の性質を良好に近似できるため、
無秩序合金のモデル化に広く用いられている。
さらに、SQSは局所環境の効果を捉えることができるため、
多主元素合金における局所的な格子歪みの研究にも利用可能である。  
</p>

<p>
現状では、mcsqs は探索中に見つけた最後の SQS だけを bestsqs.out として保存します。
確かに、最後に見つかった SQS は相関関数の一致度が最も良いため、この動作は理にかなっています。
しかし、SQS を選ぶ際には、セルの形状など他の要素も考慮する必要があります。
すべての SQS（完全なものでも不完全なものでも）とそれぞれの相関関数を保存しておく方が望ましいです。
こうすることで、ユーザーが mcsqs の探索が完了する前に bestsqs を用いて計算を進めても、
その bestsqs が上書きされる心配がなくなります。  
</p>

<p>
rndstr.in 入力ファイルは、「ユニットセル (A)」、「周期セル (B)」、**「サイト (C)」**の3つの部分に分けることができます。
最初の行は、3つのベクトルの長さ ($a, b, c$) と角度 ($\alpha, \beta, \gamma$) を定義することで、
デカルト座標系における**ユニットセル (A)**を定義します。
この行は、POSCARファイルのように3×3の行列でユニットセルを表す3行の記述に置き換えることも可能です。
ユニットセル (A) の目的は、周期セル (B) とサイト (C) を記述するための座標系を提供することです。
続く3行は**周期セル (B)**を定義します。
これは、対象とする材料の周期性を表す最小のスーパーセル（基本構造）です。
例えば、FCCのランダム固溶体には1原子のFCCプリミティブセルが必要であり、
HCPのランダム固溶体には2原子のHCPプリミティブセル、
そして$L1_2$合金には4原子のFCCユニットセルが必要となります。]
周期セルはユニットセルを用いて表現されます。
つまり、周期セルのデカルト座標は $B$ と $A$ の積になります。
3番目の部分は、原子濃度を指定した**格子サイト (C)**です。
周期セル (B) と同様に、Cにおけるサイト座標もユニットセル (A) を用いて表現されます。
つまり、サイトのデカルト座標は $C$ と $A$ の積になります。
各成分の濃度は有効数字6桁を超えないようにすることが推奨されます。また、各サイトにおける濃度の合計は常に1でなければなりません。  
</p>

<p>
rndstr.in ファイルは純粋に幾何学的な情報を扱うものなので、実際の材料のリアルな格子定数を考慮する必要はありません。
これまでのすべての例でも、格子定数には「1」が使用されています。
このように設定しておくことで、後で -2 や -3（クラスターの距離に関するパラメータ）を指定する際、判断が容易になります。
rndstr.in ファイルは、最終的なSQS（特殊準ランダム構造）の形状とは一切関係ありません。
このファイルが行うのは、必要な対称性の入力情報をすべて提供することだけです。
最終的なSQSのサイズや形状は、mcsqs コマンド側で制御されます。  
</p>

#### 「-2, -3」パラメータについて
<p>
rndstr.in ファイルの準備ができたら、最初のコマンドを実行します：
corrdump -l=rndstr.in -ro -noe -nop -clus -2=1.1corrdump 
コマンドは格子ファイル rndstr.in を読み込み、対称性とクラスターを計算します。
非常に大きな周期セルを定義しない限り、通常このコマンドはすぐに終了します
（大きなセルの場合は clusters.out が巨大になり、数時間以上かかることもあります）。
このコマンドで最も重要なパラメータが -2 です。
これは相関関数を計算する際の**最大距離（カットオフ）**を定義します。
例えば、格子定数を 1 としたFCCランダム固溶体の場合：</br>
第1近接距離：$\frac{\sqrt{2}}{2} \approx 0.71$ </br>
第2近接距離：$1.0$第3近接距離：$\sqrt{1.5} \approx 1.22$ </br>
したがって、第2近接までのペア相関を考慮したい場合は、カットオフ値（-2）を 
1.0 と 1.2 の間の任意の値（例：1.1）に設定します。
-2 と同様に、3体（トリプレット）以上の相関関数には -3 以上のパラメータが使われます。
初心者の多くは、-2, -3 の値の決め方や、何番目の近接シェルまで含めるべきかで迷います。
すべてに当てはまる一般的なルールはありません。
カットオフ値を高く設定するほど、最終的な構造の「無秩序さ（ランダム性）」は向上しますが、
mcsqs コードが完全に一致するSQSを見つけるのに非常に長い時間がかかります。
最善の戦略は、まず低いカットオフ値（例：ペアは2シェルまで、3体は無視）から始め、
良いSQSが得られるまで値を徐々に増やしていくことです。
（良いSQSかどうかの判断基準については後述します）  
</p>
